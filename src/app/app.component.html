<!-- Modal pour activation du son -->
<div id="sound-modal" class="modal">
  <div class="modal-content">
    <h2>üéµ Activez le son pour une immersion compl√®te</h2>
    <p>Ce site utilise des effets sonores pour am√©liorer votre exp√©rience. Cliquez sur le bouton ci-dessous pour activer le son.</p>
    <button id="enable-sound-btn" class="enable-sound-btn">Activer le son</button>
  </div>
</div>

<!-- Effets visuels -->
<div class="fog-container">
  <div class="fog fog-1"></div>
  <div class="fog fog-2"></div>
</div>
<div class="light-effect"></div>
<div class="background-animation"></div>

<!-- Barre de progression -->
<div class="progress-bar-container">
  <div class="progress-info">
    <span class="progress-percentage">{{completionPercentage}}% compl√©t√©</span>
    <span class="elapsed-time">Temps: {{elapsedTime}}</span>
  </div>
  <div class="progress-track">
    <div class="progress-fill" [style.width.%]="completionPercentage"></div>
  </div>
</div>

<!-- Barre de navigation avec √©tat des modules -->
<div class="d-flex mt-4 justify-content-center gap-3">
  <a class="btn" 
     [ngClass]="{'btn-primary': true, 'btn-disabled': !isModuleAvailable('home')}" 
     routerLink="/">Accueil</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('itineraire'), 'btn-secondary': !isModuleAvailable('itineraire'), 'btn-disabled': !isModuleAvailable('itineraire')}"
     routerLink="/itineraire">Itin√©raire</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('experience'), 'btn-secondary': !isModuleAvailable('experience'), 'btn-disabled': !isModuleAvailable('experience')}"
     routerLink="/experience">Exp√©rience</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('attentes'), 'btn-secondary': !isModuleAvailable('attentes'), 'btn-disabled': !isModuleAvailable('attentes')}"
     routerLink="/attentes">Attentes</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('personnalite'), 'btn-secondary': !isModuleAvailable('personnalite'), 'btn-disabled': !isModuleAvailable('personnalite')}"
     routerLink="/personnalite">Personnalit√©</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('centres'), 'btn-secondary': !isModuleAvailable('centres'), 'btn-disabled': !isModuleAvailable('centres')}"
     routerLink="/centres">Centres d'int√©r√™t</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('motivations'), 'btn-secondary': !isModuleAvailable('motivations'), 'btn-disabled': !isModuleAvailable('motivations')}"
     routerLink="/motivations">Motivations</a>
  
  <a class="btn" 
     [ngClass]="{'btn-primary': isModuleAvailable('conclusion'), 'btn-secondary': !isModuleAvailable('conclusion'), 'btn-disabled': !isModuleAvailable('conclusion')}"
     routerLink="/conclusion">Conclusion</a>
</div>

<!-- Boutons utilitaires -->
<div class="utility-buttons">
  <button class="utility-btn note-btn" (click)="toggleNotes()" title="Prendre des notes">
    <i class="bi bi-journal-text"></i>
  </button>
  
  <button class="utility-btn export-btn" (click)="exportData()" title="Exporter vos donn√©es">
    <i class="bi bi-download"></i>
  </button>
  
  <label class="utility-btn import-btn" title="Importer vos donn√©es">
    <i class="bi bi-upload"></i>
    <input type="file" hidden accept=".json" (change)="importData($event)">
  </label>
  
  <button class="utility-btn reset-btn" (click)="resetApplication()" title="R√©initialiser l'enqu√™te">
    <i class="bi bi-arrow-counterclockwise"></i>
  </button>
</div>

<!-- Le contenu principal des pages -->
<router-outlet></router-outlet>